---
title: "무분별한 SELECT * 사용을 지양하자"
excerpt: "어플리케이션이 동작하는데 불필요한 컬럼(필드)까지 조회되기 쉽다."
categories:
  - Database
tags:
  - Database
date: 2021-06-05
last_modified_at: 2021-06-05
---

## 1. SELECT * 의 단점

### 1.1. 비효율성 야기

``SELECT *`` 를 사용하면 어플리케이션이 동작하는데 불필요한 컬럼(필드)까지 조회되기 쉽다. DB 서버에서 클라이언트로 이동하는 데이터의 양이 많아질수록 네트워크 부하가 심해지기 마련이다.

### 1.2. 인덱싱 이슈

쿼리 성능 최적화를 위해 인덱스를 사용하는 경우를 생각해보자. ``SELECT *``를 사용하면 인덱스가 없는 불필요한 컬럼(필드)까지 조회하기 쉽다. 조회하려는 모든 필드가 인덱스 되어있지 않으면, 테이블 전체를 스캔하게 된다. 따라서 인덱스를 사용하더라도 쿼리 성능 향상을 기대하기 어렵다.

### 1.3. 바인딩 이슈

여러 테이블들을 조인하는 과정에서 ``SELECT *``을 사용하면 중복되는 이름의 칼럼(예를 들어 ID)들이 충돌할 수 있다.

<br>

## 2. SELECT * 를 사용해도 될 때

1. 테이블의 모든 칼럼들을 조회해야 하는 명백한 이유가 있는 경우.
2. ``SELECT COUNT(*)``와 같이 애스터리스크가 ``행``을 의미하는 경우.
  * 애스터리스크가 아닌 칼럼명을 사용하는 경우, 칼럼의 값이 NULL이 아닌 행의 개수를 반환한다.
  * 따라서 정확한 행의 개수를 조회하려거든 애스터리스크를 사용함이 적절하다.

<br>

---

## References

* [Why is SELECT * considered harmful?](https://stackoverflow.com/questions/3639861/why-is-select-considered-harmful)
