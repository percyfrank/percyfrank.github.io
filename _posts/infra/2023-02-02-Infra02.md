---
title:  "GitActions CI/CD(2) - submodule ë³€ê²½ í›„ ë©”ì¸ í”„ë¡œì íŠ¸ ë°˜ì˜í•˜ê¸°" 
excerpt: "submoduleì—ì„œ ì½”ë“œ ë³€ê²½ì´ ìˆì„ ë•Œ ë©”ì¸ í”„ë¡œì íŠ¸ì— ë°˜ì˜í•˜ëŠ” ë°©ë²• "

categories:
  - Infra
tags:
  - [Infra, Springboot, Project]

date: 2023-02-02
last_modified_at: 2023-02-02

---

git submoduleì„ í†µí•´ yml íŒŒì¼ê³¼ ê°™ì€ ë…¸ì¶œë˜ë©´ ì•ˆë˜ëŠ” ì •ë³´ë“¤ì„ í•œêº¼ë²ˆì— ê´€ë¦¬í•  ìˆ˜ ìˆì—ˆë‹¤.

ì´ì œë¶€í„´ ì„¤ì •ì •ë³´ë“¤ì„ ì¶”ê°€í•˜ê±°ë‚˜ ìˆ˜ì •í•´ì•¼ í•  ì¼ì´ ìƒê¸´ë‹¤ë©´ submodule repoì— ê°€ì„œ ìˆ˜ì •í•˜ê³ , í•´ë‹¹ ìˆ˜ì • ì´ë ¥ì„ ë©”ì¸ í”„ë¡œì íŠ¸ì— ë°˜ì˜ë§Œ í•˜ë©´ ëœë‹¤.

ë©”ì¸ í”„ë¡œì íŠ¸ì— ë°˜ì˜í•˜ëŠ” ì‘ì—…ì„ ì§„í–‰í•´ë³´ì.

ìˆœì„œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

1. submodule ì½”ë“œ ë³€ê²½
2. Main í”„ë¡œì íŠ¸ ë°˜ì˜ 
3. í•´ë‹¹ ì´ë ¥ Main í”„ë¡œì íŠ¸ì—ì„œ commit í›„ push 
4. copyPrivate ì‹¤í–‰ í›„, ë³µì‚¬í•œ í•´ë‹¹ ì´ë ¥ì€ gitignore ì²˜ë¦¬
5. Main í”„ë¡œì íŠ¸ runìœ¼ë¡œ í™•ì¸

### 1. submodule ì½”ë“œ ë³€ê²½
---

submodule repoì—ì„œ ìˆ˜ì •ì‚¬í•­ì´ ìˆë‹¤ê±°ë‚˜ ì¶”ê°€í•  ë‚´ìš©ì´ ìƒê¸°ë©´, ì•„ë˜ì˜ ì´ˆë¡ìƒ‰ ë°•ìŠ¤ì¹¸ì„ ëˆŒëŸ¬ Githubì—ì„œ ìˆ˜ì •í•˜ê³ , í™”ë©´ ë§¨ ì•„ë˜ì˜ commit ë²„íŠ¼ìœ¼ë¡œ commití•œë‹¤.

![image](https://user-images.githubusercontent.com/85394884/216498665-2b93694c-1635-4b69-b62e-ff3448dfbc65.png)

![image](https://user-images.githubusercontent.com/85394884/216498885-5ce3fe5f-397f-4d3d-9beb-3284bbb4ee20.png)


### 2. Main í”„ë¡œì íŠ¸ì— ë°˜ì˜
---

ë‹¤ìŒìœ¼ë¡œ, ë©”ì¸ í”„ë¡œì íŠ¸ì—ì„œ submoduleì„ ê°±ì‹ ì‹œì¼œì¤˜ì•¼ í•œë‹¤. ë‹¤ìŒê³¼ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•œë‹¤.

```
git submodule update --remote $ {submodule_repository_name}
```

![image](https://user-images.githubusercontent.com/85394884/216499483-45b6945b-be13-4d4c-817b-703af47c0c3d.png)

### 3. í•´ë‹¹ ì´ë ¥ Main í”„ë¡œì íŠ¸ì—ì„œ commití›„ push
---

submoduleì„ ê°±ì‹ ì‹œì¼œì£¼ê³ , `git status` ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ë©´, unstageëœ submoduleì´ ë³´ì¼ ê²ƒì´ë‹¤.

![image](https://user-images.githubusercontent.com/85394884/216499869-4cbc474a-962c-4363-bd8f-ad50cf1c381b.png)

í•´ë‹¹ ì´ë ¥ì„ commití•˜ê³ , push í•´ì¤€ë‹¤. í•´ë‹¹ ì´ë ¥ì€ submoduleì—ì„œì˜ ì½”ë“œ ë³€í™”ë¥¼ pushí•˜ëŠ” ì‘ì—…ì´ë‹¤. Main í”„ë¡œì íŠ¸ì— ì•„ì§ ì¡´ì¬í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤!!

![image](https://user-images.githubusercontent.com/85394884/216500208-557fd045-17a4-475a-a98c-bc9f6d3b4bd3.png)


### 4. copyPrivate ì‹¤í–‰ í›„, ë³µì‚¬í•œ í•´ë‹¹ ì´ë ¥ì€ gitignore ì²˜ë¦¬

ì•„ì§ ëë‚œ ê²ƒì´ ì•„ë‹ˆë‹¤.

submodule ì²˜ìŒ ì ìš©ì‹œì¼°ì„ ë•Œì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë³€ê²½ì‚¬í•­ì´ Main í”„ë¡œì íŠ¸ì— ë°˜ì˜ëœ ê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ ì‹¤ì œë¡œëŠ” ì•„ë‹Œ ìƒí™©ì´ë‹¤.

`copyPrivate` task ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ ì‹¤ì œë¡œ ì¡´ì¬í•˜ê²Œë” í•´ì¤€ë‹¤.

![image](https://user-images.githubusercontent.com/85394884/216500808-fe16604d-3512-4e18-8be9-3a9ada3645c9.png)

`copyPrivate` task ì‹¤í–‰ì„ í•˜ê³  ë‚˜ë©´, ë‹¤ìŒê³¼ ê°™ì´ ì‹¤ì œë¡œ submoduleì˜ ë³€ê²½ì‚¬í•­ì´ ì ìš©ë˜ì–´ Main í”„ë¡œì íŠ¸ì—ì„œ ë°”ë¼ë³´ëŠ” submoduleë„ ìµœê·¼ì— ë³€ê²½í•œ ì´ë ¥ìœ¼ë¡œ ë°”ë€ë‹¤.

![image](https://user-images.githubusercontent.com/85394884/216500937-be717bd5-3d50-453b-a2d4-fd27ea2bc9d9.png)

ì´ë ‡ê²Œ ë³€ê²½ì‚¬í•­ì´ ì¼ì¹˜ëœ ìƒíƒœë¡œ ë°”ë€ë‹¤.

![image](https://user-images.githubusercontent.com/85394884/216507538-b4948ec0-c121-48e5-bb7f-6a0a8a56c5a8.png)

![image](https://user-images.githubusercontent.com/85394884/216507619-10c5e648-ebb6-4dd5-84a4-a64c54b8db7e.png)

ğŸš¨ ë§ˆì§€ë§‰ìœ¼ë¡œ, ë³µì‚¬ëœ `application-dev.yml` íŒŒì¼ì€ gitignore ì²˜ë¦¬í•´ì£¼ì–´ commit ì´ë ¥ì— í¬í•¨ë˜ì§€ ì•Šë„ë¡ í•œë‹¤. ğŸš¨

### 5. Main í”„ë¡œì íŠ¸ runìœ¼ë¡œ í™•ì¸
---

ì´ì œ ì •ìƒì ìœ¼ë¡œ ë¹Œë“œë˜ëŠ”ì§€ í™•ì¸ë§Œ í•˜ë©´ ëœë‹¤.

![image](https://user-images.githubusercontent.com/85394884/216507897-d85dd060-ef9b-4b27-a97e-4ff5557d95df.png)

<br>

---

## References

* [git ê³µì‹ë¬¸ì„œ](https://git-scm.com/book/ko/v2/Git-%EB%8F%84%EA%B5%AC-%EC%84%9C%EB%B8%8C%EB%AA%A8%EB%93%88)
* [git submoduleë¡œ ì¤‘ìš”í•œ ì •ë³´ ê´€ë¦¬í•˜ê¸°](https://tecoble.techcourse.co.kr/post/2021-07-31-git-submodule/)
* [[Git] Git Submoduleì— ëŒ€í•˜ì—¬](https://leveloper.tistory.com/176)
