---
title: "JDBC(Java Database Connectivity)"
excerpt: "JDBC란 Java 어플리케이션의 DB 사용 표준 인터페이스다."
categories:
  - Java
tags:
  - Java
date: 2021-03-29
last_modified_at: 2021-03-29
---

## 1. JDBC(Java Database Connectivity)

JDBC란 Java 어플리케이션에서 DB를 표준화된 방법으로 사용할 수 있도록 만든 API다. MySql, MsSql, Oracle 등 DB 벤더의 종류와 상관없이 JDBC API를 통해 DB 작업을 수행할 수 있다. DB 벤더는 JDBC 인터페이스를 구현한 Driver를 제공하고, 클라이언트는 DB 변경시 이러한 JDBC Driver만 교체하면 된다.

<br>

## 2. JDBC Driver

DBMS와 통신을 담당하는 Java 클래스다. Java 어플리케이션의 요청을 DBMS가 이해할 수 있는 프로토콜로 변환해준다. 사용할 DBMS 별로 알맞은 JDBC 드라이버가 필요하며, 이는 각 벤더사별로 제공한다. ``Class.forName()`` 메서드 호출을 통해 DBMS Driver의 핵심 클래스를 동적으로 메모리에 로딩한다.

Java 어플리케이션에서 DB 작업을 본격적으로 수행하기 전에 이러한 Driver 로드 작업이 선행되어야 한다. Driver 로드를 통해 JVM이 어떤 DBMS를 사용하는지 인식시킨다.

<br>

## 3. Connection

DriverManager가 반환하는 Connection 객체는 DB와 어플리케이션 사이의 연결을 유지해준다. DB와의 연결은 ``close()`` 호출을 통해 Connection을 Connection Pool로 반환할 때 까지 유지된다.

<br>

## 4. Connection Pool

미리 Connection 객체들을 생성해 Pool에 저장한 다음, 요청이 올 때마다 Connection 객체를 빌려주고 작업이 완료되면 다시 반납받아 Pool에 저장하는 기법이다. JDBC를 사용한 보통의 DB 접근 방식은 요청이 많아지면 서버에 과부하가 걸릴 수 있다. 요청마다 매번 JDBC Driver를 로드하고 Connection 객체를 생성한 다음, 작업이 끝날 때 이를 다시 일일이 삭제해주어야 하기 때문이다.

Connection Pool을 사용하면 Connection 생성 및 삭제 등 불필요한 작업에 드는 비용을 절감할 수 있다.

<br>

## 5. Close

Connection, Statement, ResultSet 등의 객체들은 사용 이후 반드시 ``close()``를 통해 자원을 반납해야 한다. 불필요한 자원(네트워크 및 메모리) 낭비를 방지하기 위함이다. Java 8 부터는 try-with-resources 구문을 통해 쉽게 자원을 반환할 수 있다.

* AutoCloseable 인터페이스를 구현한 리소스는 해당 구문 수행 이후 자동으로 자원을 반납한다.

<br>

---

## References

* [[Spring] JDBC란? Connection pool이란?](https://kimvampa.tistory.com/44)
